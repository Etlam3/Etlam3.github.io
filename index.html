<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SVG Block Editor - Nested & Snapping (Fixed)</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>

<header>
  <h1>SVG Block Editor</h1>
  <div class="header-controls">
<button id="exportBtn">Export</button>
<button id="importBtn">Import</button>
<input type="file" id="importFile" style="display:none" accept=".json" />

    <button id="newBlockBtn">New Block</button>
    <button id="saveBtn">Save</button>
    <button id="clearBtn">Clear</button>
    <button id="generateBtn">Generate Code</button>
    <select id="langSelect">
      <option value="javascript">JavaScript</option>
      <option value="python">Python</option>
      <option value="c">C-like</option>
    </select>
<select id="exportMenu">
  <option value="">Export / Import</option>
  <option value="export-blocks">Export Custom Blocks</option>
  <option value="export-workspace">Export Workspace</option>
  <option value="export-project">Export Full Project</option>
  <option value="import">Import JSON</option>
</select>
<input type="file" id="importFile" accept=".json" style="display:none" />

  </div>
  <div id="trash" title="Drag blocks here or outside workspace to delete">üóëÔ∏è</div>
</header>

<main>
  <aside id="palette" class="palette"></aside>
  <div id="workspaceContainer" class="workspace-container">
    <svg id="workspace" width="1600" height="1400"></svg>
  </div>
</main>

<!-- Block Designer Modal -->
<div id="blockDesigner" class="modal">
  <div class="modal-content">
    <h2>Create Custom Block</h2>
    <label>Block Label (use %varName for inputs):<br/>
      <input type="text" id="blockLabel" placeholder="say %text" />
    </label>
    <label>Block Type:
      <select id="blockType">
        <option value="command">Command</option>
        <option value="reporter">Reporter</option>
        <option value="boolean">Boolean</option>

        <option value="container">Container (e.g. loops)</option>
      </select>
    </label>
    <label>Block Color:
      <input type="color" id="blockColor" value="#4C97FF" />
    </label>
    <label>Template JavaScript:<br/>
      <textarea id="templateJS" rows="3" placeholder="console.log('%text');"></textarea>
    </label>
    <label>Template Python:<br/>
      <textarea id="templatePy" rows="3" placeholder="print('%text')"></textarea>
    </label>
    <label>Template C-like:<br/>
      <textarea id="templateC" rows="3" placeholder="printf(\"%text\");"></textarea>
    </label>
    <div class="designer-buttons">
      <button id="addBlockBtn">Add Block</button>
      <button id="closeDesignerBtn">Close</button>
    </div>
  </div>
</div>

<!-- Code Output Modal -->
<div id="codeOutput" class="modal">
  <div class="modal-content">
    <h2>Generated Code</h2>
    <pre id="codeArea"></pre>
    <button id="closeCodeOutputBtn">Close</button>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
